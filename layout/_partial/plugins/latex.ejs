<%
let flag = theme.latex.enable;
if(flag) {
  if(is_page() || is_post()) {
    flag = theme.latex.global || page.latex;
  } else {
    flag = false;
  }
}
%>
<% if(flag) { %>
  <% const engine = theme.latex.engine; %>
  <% if(engine === 'mathjax') { %>
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        }
      };
    </script>
    <%- js('https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-svg.js') %>
  <% } else if(engine === 'katex') { %>
    <%- css('https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css')%>
  <% } %>
<% } %>